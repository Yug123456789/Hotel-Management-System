{% extends 'partials/hotel-user.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/addcoupon.css' %}">

<div class="coupon-form-container">
    <div class="form-header">
        <h2><i class="fas fa-tag"></i> Create New Coupon</h2>
        <p>Set up discount offers for your customers</p>
    </div>

    {% if messages %}
    <div class="message-container">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">
            <i class="fas fa-{% if message.tags == 'success' %}check-circle{% else %}exclamation-circle{% endif %}"></i>
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <form method="POST" class="coupon-form">
        {% csrf_token %}

        <div class="form-group">
            <label for="{{ form.hotel.id_for_label }}">
                <i class=""></i> Select Hotel
            </label>
            {{ form.hotel }}
            {% if form.hotel.errors %}
            <div class="error-message">{{ form.hotel.errors }}</div>
            {% endif %}
        </div>

        <div class="form-grid">
            <div class="form-group">
                <label for="{{ form.code.id_for_label }}">
                    <i class=""></i> Coupon Code
                </label>
                {{ form.code }}
                {% if form.code.errors %}
                <div class="error-message">{{ form.code.errors }}</div>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="{{ form.discount.id_for_label }}">
                    <i class=""></i> Discount Value
                </label>
                {{ form.discount }}
                {% if form.discount.errors %}
                <div class="error-message">{{ form.discount.errors }}</div>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="{{ form.type.id_for_label }}">
                    <i class=""></i> Discount Type
                </label>
                {{ form.type }}
                {% if form.type.errors %}
                <div class="error-message">{{ form.type.errors }}</div>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="{{ form.valid_from.id_for_label }}">
                    <i class=""></i> Valid From
                </label>
                {{ form.valid_from }}
                {% if form.valid_from.errors %}
                <div class="error-message">{{ form.valid_from.errors }}</div>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="{{ form.valid_upto.id_for_label }}">
                    <i class=""></i> Valid Until
                </label>
                {{ form.valid_upto }}
                {% if form.valid_upto.errors %}
                <div class="error-message">{{ form.valid_upto.errors }}</div>
                {% endif %}
                {% if form.non_field_errors %}
                <div class="error-message">{{ form.non_field_errors }}</div>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="{{ form.active.id_for_label }}">
                    <i class="fas fa-toggle-on"></i> Status
                </label>
                <div class="toggle-switch">
                    {{ form.active }}
                    <span class="slider"></span>
                    <span class="toggle-label">Active</span>
                </div>
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="submit-btn">
                <i class="fas fa-plus-circle"></i> Create Coupon
            </button>
        </div>
    </form>
</div>
{% endblock content %}
