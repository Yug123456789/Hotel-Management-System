{% extends 'partials/base.html' %}
{% load static %}
{% block content %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Room Details</title>
    <link rel="stylesheet" href="{% static 'css/roomtypedetail.css' %}">
</head>
<body>
    <br>
    <div class="container">
        <h2 class="title">All Available Rooms</h2>
        <p class="sub-title"><b>The {{room_type.type}} room has {{ rooms.count }} rooms available</b></p>

        
            <div class="room-details">
                {% for r in rooms %}
                    <div class="room-card">
                        <div class="room-price">
                            <h3>ROOM NO.{{r.room_number}}</h3>
                            <p><span class="price-symbol">Rs.{{ r.room_type.price }}</span>/Per Night</p>
                        </div>
                        <div class="room-info">
                            <p><strong>Beds:</strong> {{ r.room_type.number_of_beds }}</p>
                            <p><strong>Room Capacity:</strong> {{ r.room_type.room_capacity }}</p>
                        </div>

                        <input type="hidden" class="room_id_{{r.id}}" value="{{r.id}}" id="room_id">
                        <input type="hidden"  class= "room_number_{{r.id}}" value="{{r.room_number}}" id="room_number">
                        <button class="btn  add-to-selection" data-index="{{r.id}}">ðŸ“‹ Select</button>
                    </div>
                {% endfor %}

                <input type="hidden" value="{{hotel.id}}"  id="id">
                <input type="hidden" value="{{hotel.name}}"  id="hotel_name">
                <input type="hidden" value="{{room_type.type}}"  id="room_name">
                <input type="hidden" value="{{room_type.price}}"  id="room_price">
                <input type="hidden" value="{{room_type.number_of_beds}}"  id="number_of_beds">
                <input type="hidden" value="{{room_type.id}}"  id="room_type">
                <input type="hidden" value="{{checkin}}"  id="checkin">
                <input type="hidden" value="{{checkout}}"  id="checkout">
                
                <form class="booking-section" method="POST" action="{% url 'booking:check_room_availability' %}">
                    {% csrf_token %}
                    <h3>ðŸ“… Booking</h3>
                    <div class="form-group">
                        <label for="checkin">Check-in Date</label>
                        <input type="date" id="checkin" name="checkin" required>
                    </div>
        
                    <div class="form-group">
                        <label for="checkout">Check-out Date</label>
                        <input type="date" id="checkout" name="checkout" required>
                    </div>

                    
        
                    <div class="form-group">
                        <label for="room-type">Select Room Type</label>
                        <select id="room-type" name="room_type">
                            {% for roomtype in hotel.hotel_room_types.all %}
                                <option value="{{ roomtype.slug }}">{{ roomtype.type }}</option>
                            {% endfor %}
                        </select>
                    </div>
                

                    <button type="submit" class="btn check-availability">Check Availability</button> <br><br>
                   
            </form>
        </div>

    </div>

</body>
</html>


{% endblock content %}