<!-- This template is for the Hotel User which is used to display the Room type 
and user can select checkin date and checkout date Hotel detail page. 
As the header like Add hotel, Edit Hotel should only be displayed to hotel user 
that is why i have imported hotel-user.html from partials. The main motive of this page 
is only to display the header part of hoter user.  -->

{% extends 'partials/hotel-user.html' %}
{% load static %}
{% block content %}

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotel Details</title>
    <link rel="stylesheet" href="{% static 'css/hoteldetail.css' %}">
</head>

<div class="hotel-container">
    
    <!-- Hotel Image Section -->
    <div class="hotel-image">        
            <img src="{{ hotel.image.url }}" alt="{{ hotel.name }}">        
    </div>

    <!-- Hotel Details and Booking Section -->
    <div class="hotel-details-container">
        <!-- Hotel Info Section -->
        <div class="hotel-info">
            <h3>{{ hotel.name }}</h3>
            <p class="hotel-location">üìç {{ hotel.address }}</p>
            <p class="hotel-contact">üìû {{ hotel.mobile }}</p>
            <div class="rating">
                ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ <span class="review">3.0/1 Reviews</span>
            </div>
            <div class="share">
                ‚ù§Ô∏è <span>Share</span>
            </div>
        </div>
      
        
        <!-- Booking Section -->
        <form class="booking-section" method="POST" action="{% url 'booking:user_hotel_check_room_availability' %}">
            {% csrf_token %}
            <h3>üõé Check Available Rooms</h3>

            <input type="hidden" value="{{ hotel.id }}" name="hotel-id">

            <div class="form-group">
                <label for="checkin">Check-in Date</label>
                <input type="date" id="checkin" name="checkin" required>
            </div>

            <div class="form-group">
                <label for="checkout">Check-out Date</label>
                <input type="date" id="checkout" name="checkout" required>
            </div>

            <div class="form-group">
                <label for="room-type">Select Room Type</label>
                <select id="room-type" name="room_type">
                    {% for roomtype in hotel.hotel_room_types.all %}
                        <option value="{{ roomtype.slug }}">{{ roomtype.type }}</option>
                    {% endfor %}
                </select>
            </div>

            <button type="submit" class="btn check-availability">Check Availability</button>
            <br><br>
            <form method="post" action="{% url 'hotel:bookmark_hotel' hotel.id %}">
                {% csrf_token %}
                {% if user.is_authenticated %}
                    {% if hotel in user.bookmarked_hotels.all %}
                        <button type="submit" class="btn wishlist">‚ù§Ô∏è Remove Bookmark</button>
                    {% else %}
                        <button type="submit" class="btn wishlist">‚ô° Add to Favorites</button>
                    {% endif %}
                {% else %}
                    <a href="{% url 'userauthentication:sign-in' %}" class="btn wishlist">‚ô° Login to Bookmark</a>
                {% endif %}
            </form>
        </form>
    </div>

    <!-- Description Section -->
    <div class="hotel-description">
        <h3>Description</h3>
        <p>{{ hotel.description|safe }}</p>

        <div class="contact-info">
            <button>üìû {{ hotel.mobile }}</button>
            <button>üìß {{ hotel.email }}</button>
        </div>

        

        <!-- Amenities Section -->
        <div class="amenities-section">
            <h3>Featured Amenities On-Site</h3>
            <div class="amenity-card">
                <a href="{% url 'hotel:user_hotel_resturant' hotel.slug %}" class="restaurant-link">
                    <div class="amenity-icon">
                        <i class="fa fa-cutlery" aria-hidden="true"></i>
                    </div>
                    <div class="amenity-content">
                        <h4>Restaurant</h4>
                        <p>Explore our exquisite dining options</p>
                        <span class="view-more">View Details ‚Üí</span>
                    </div>
                </a>
            </div>
        </div>
    </div>
 
</div>

{% endblock content %}
